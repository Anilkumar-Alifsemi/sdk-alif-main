

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Parallel Display &mdash; Zephyr Alif SDK Appnotes - v1.4</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />

  
    <link rel="shortcut icon" href="_static/favicon.png"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=0ed52906"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="_static/copybutton.js?v=f281be69"></script>
      <script src="_static/js/custom.js"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Serial Display" href="serial_display.html" />
    <link rel="prev" title="OSPI Flash" href="ospi_flash.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980b9" >

          
          
          <a href="index.html">
            
              <img src="_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="clock_control.html">Clock Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="helloworld_ospi.html">Building Hello World for OSPI NOR Flash</a></li>
<li class="toctree-l1"><a class="reference internal" href="utimer_counter.html">UTimer Counter</a></li>
<li class="toctree-l1"><a class="reference internal" href="sdmmc.html">SDMMC</a></li>
<li class="toctree-l1"><a class="reference internal" href="qdec.html">QDEC</a></li>
<li class="toctree-l1"><a class="reference internal" href="can.html">CAN</a></li>
<li class="toctree-l1"><a class="reference internal" href="dac.html">DAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="ethos_u55.html">Ethos U-55 NPU</a></li>
<li class="toctree-l1"><a class="reference internal" href="ethos_u85.html">Ethos-U85 NPU</a></li>
<li class="toctree-l1"><a class="reference internal" href="lp_timer.html">Low Power Timer</a></li>
<li class="toctree-l1"><a class="reference internal" href="i2c.html">I2C</a></li>
<li class="toctree-l1"><a class="reference internal" href="lp_i2c.html">LPI2C</a></li>
<li class="toctree-l1"><a class="reference internal" href="i3c.html">I3C</a></li>
<li class="toctree-l1"><a class="reference internal" href="lp_rtc.html">LPRTC</a></li>
<li class="toctree-l1"><a class="reference internal" href="pwm.html">PWM</a></li>
<li class="toctree-l1"><a class="reference internal" href="touchscreen.html">GT911 Touchscreen</a></li>
<li class="toctree-l1"><a class="reference internal" href="uart.html">UART</a></li>
<li class="toctree-l1"><a class="reference internal" href="ble.html">BLE</a></li>
<li class="toctree-l1"><a class="reference internal" href="cmp_lpcmp.html">CMP/LPCMP</a></li>
<li class="toctree-l1"><a class="reference internal" href="lc3.html">LC3</a></li>
<li class="toctree-l1"><a class="reference internal" href="power_management.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="adc.html">ADC12/24</a></li>
<li class="toctree-l1"><a class="reference internal" href="crc.html">CRC</a></li>
<li class="toctree-l1"><a class="reference internal" href="dma.html">DMA</a></li>
<li class="toctree-l1"><a class="reference internal" href="i2s.html">I2S</a></li>
<li class="toctree-l1"><a class="reference internal" href="spi.html">SPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="pdm.html">PDM</a></li>
<li class="toctree-l1"><a class="reference internal" href="mipi_camera.html">MIPI Camera</a></li>
<li class="toctree-l1"><a class="reference internal" href="parallel_camera.html">Parallel Camera</a></li>
<li class="toctree-l1"><a class="reference internal" href="ospi_flash.html">OSPI Flash</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Parallel Display</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cdc200-blending-pipeline">CDC200 Blending Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hardware-requirements">Hardware Requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cdc200-controller">CDC200 Controller</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ili6122-panel">ILI6122 Panel</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#hardware-setup">Hardware Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-the-cdc200-application">Building the CDC200 Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#required-config-features">Required Config Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dts-properties">DTS Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="#validating-cdc200">Validating CDC200</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#output-logs">Output Logs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#both-layers-enabled">Both Layers Enabled</a></li>
<li class="toctree-l4"><a class="reference internal" href="#only-layer-1">Only Layer 1</a></li>
<li class="toctree-l4"><a class="reference internal" href="#only-layer-2">Only Layer 2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#no-layers-enabled">No Layers Enabled</a></li>
<li class="toctree-l4"><a class="reference internal" href="#no-layers-and-default-color-for-layer-1-disabled">No Layers and Default Color for Layer 1 Disabled</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#known-issues">Known Issues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="serial_display.html">Serial Display</a></li>
<li class="toctree-l1"><a class="reference internal" href="se_tool_flash.html">SE Tool Flashing for Alif DevKits</a></li>
<li class="toctree-l1"><a class="reference internal" href="ensemble_pins.html">Pin Configuration for Ensemble</a></li>
<li class="toctree-l1"><a class="reference internal" href="balletto_pins.html">Pin Configuration for Balletto</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980b9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Zephyr Alif SDK Application Notes</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Parallel Display</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/parallel_display.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="parallel-display">
<span id="cdc200"></span><h1>Parallel Display<a class="headerlink" href="#parallel-display" title="Link to this heading"></a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h2>
<p>This application note describes how to flush continuous video frames to a parallel display using the CDC200 device and LCD panel. The ILI6122 panel is used for the demo application. The components in the display pipeline for Alif SoCs are:</p>
<ol class="arabic simple">
<li><p>CDC200 Driver</p></li>
<li><p>Display Panel Configuration
- Interface: Parallel
- Resolution: 800 x 480</p></li>
</ol>
</section>
<section id="cdc200-blending-pipeline">
<h2>CDC200 Blending Pipeline<a class="headerlink" href="#cdc200-blending-pipeline" title="Link to this heading"></a></h2>
<p>The CDC200 has two layers and a background layer color that are different parameters that can be controlled in a display system.</p>
<figure class="align-center" id="id1">
<img alt="CDC200 Blending Pipeline" src="_images/cdc200_blending_pipeline.png" />
<figcaption>
<p><span class="caption-number">Figure 81 </span><span class="caption-text">CDC200 Blending Pipeline</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The CDC (Color Display Controller) includes blending logic that combines the color values (RGB) of one layer with the blended results of sub-adjacent layers. Here’s how it works:</p>
<ol class="arabic">
<li><p><strong>Blending Process</strong>
- To calculate a blended pixel, as many steps as there are layers are needed.
- Internally, this process is achieved through the Alpha Blending Pipeline (ABP).
- The ABP delivers one pixel per clock cycle.
- The length of the ABP corresponds to the number of blending steps required (i.e., the number of layers).</p></li>
<li><p><strong>Layer Blending Order</strong>
- If two layers are enabled:</p>
<blockquote>
<div><ul class="simple">
<li><p>First, layer 1 is blended with the background (BG) color.</p></li>
<li><p>Then, layer 2 is blended with the result of the blended color from layer 1 and the background.</p></li>
</ul>
</div></blockquote>
<div class="math notranslate nohighlight">
\[C' = f_1 \cdot c + f_2 \cdot c_s\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(C'\)</span> = blended color</p></li>
<li><p><span class="math notranslate nohighlight">\(f_1\)</span> = blend factor for current layer pixels</p></li>
<li><p><span class="math notranslate nohighlight">\(c\)</span> = current layer color</p></li>
<li><p><span class="math notranslate nohighlight">\(f_2\)</span> = blend factor for sub-adjacent color</p></li>
<li><p><span class="math notranslate nohighlight">\(c_s\)</span> = sub-adjacent layer color</p></li>
</ul>
<table class="docutils align-default" id="id2">
<caption><span class="caption-number">Table 7 </span><span class="caption-text">Possible Values of <span class="math notranslate nohighlight">\(f_1\)</span></span><a class="headerlink" href="#id2" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 28.6%" />
<col style="width: 71.4%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Significance</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>4</p></td>
<td><p><span class="math notranslate nohighlight">\(\text{Constant-}\alpha\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p><span class="math notranslate nohighlight">\(\text{Pixel-}\alpha \cdot \text{Constant-}\alpha\)</span></p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id3">
<caption><span class="caption-number">Table 8 </span><span class="caption-text">Possible Values of <span class="math notranslate nohighlight">\(f_2\)</span></span><a class="headerlink" href="#id3" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 28.6%" />
<col style="width: 71.4%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Significance</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>5</p></td>
<td><p><span class="math notranslate nohighlight">\(1 - \text{Constant-}\alpha\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p><span class="math notranslate nohighlight">\(1 - (\text{Pixel-}\alpha \cdot \text{Constant-}\alpha)\)</span></p></td>
</tr>
</tbody>
</table>
<p><span class="math notranslate nohighlight">\(\text{Constant-}\alpha\)</span> for each layer can be configured using the <code class="docutils literal notranslate"><span class="pre">CDC_Ln_CONST_ALPHA</span></code> register or the <code class="docutils literal notranslate"><span class="pre">const-alpha-l1/2</span></code> parameter in the driver. The pixel alpha (<span class="math notranslate nohighlight">\(\text{Pixel-}\alpha\)</span>) is determined by the pixel format used for the layer. In ARGB formats, there is a per-pixel alpha value provided, whereas in non-ARGB formats, the per-pixel values are elaborated to ARGB values, with a <span class="math notranslate nohighlight">\(\text{Constant-}\alpha\)</span> value of 0 per pixel.</p>
<p>Alpha (<span class="math notranslate nohighlight">\(\alpha\)</span>) represents the opacity of a layer. The alpha value for a layer can range from 0 to 255 (0xff). For example, in the blending scenario described above:</p>
<ol class="arabic simple">
<li><p>Consider the following settings:</p>
<ul class="simple">
<li><p>Global background color (bg-color): 0x00ff00 (Green)</p></li>
<li><p>Layer 2: Disabled</p></li>
<li><p>Layer 1: Disabled</p></li>
<li><p>Default layer color for layer 1 (def-layer-color): 0xffff0000 (Red)</p></li>
<li><p>Blending factors for layer 1 (f1, f2): (4, 5)</p></li>
<li><p>Blending factors for layer 2 (f1, f2): (6, 7)</p></li>
</ul>
</li>
<li><p>If the constant alpha (<span class="math notranslate nohighlight">\(\text{Constant-}\alpha\)</span>) for layer 1 is set to 0xff (255), only the color from the current layer will be used during blending. Any alpha value associated with the pixel will be ignored. In this case, the resulting color will be 0xffff0000 (Red).</p></li>
<li><p>Similarly, if the constant alpha for the background layer (<span class="math notranslate nohighlight">\(\text{Constant-}\alpha\)</span>) is set to 0xff (255), only the color from the background layer will be used during blending. The resulting color will be 0x00ff00 (Green).</p></li>
</ol>
</li>
</ol>
<figure class="align-center" id="id4">
<img alt="CDC200 Blending Process" src="_images/blending_process.png" />
<figcaption>
<p><span class="caption-number">Figure 82 </span><span class="caption-text">CDC200 Blending Process</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="hardware-requirements">
<h2>Hardware Requirements<a class="headerlink" href="#hardware-requirements" title="Link to this heading"></a></h2>
<p>The parallel display configuration with the CDC200 and ILI6122 panel is supported on the following Alif Ensemble DevKits:</p>
<ul class="simple">
<li><p>E7</p></li>
<li><p>E1C</p></li>
<li><p>B1DK</p></li>
</ul>
<section id="cdc200-controller">
<h3>CDC200 Controller<a class="headerlink" href="#cdc200-controller" title="Link to this heading"></a></h3>
<p>The Customizable Display Controller (CDC) from TES is a fully configurable VHDL IP to drive pixel displays. It supports the following main features:</p>
<ul class="simple">
<li><p>Configurable resolution and refresh rate</p></li>
<li><p>2 display layers</p></li>
<li><p>Programmable background color</p></li>
<li><p>Color Look-up Table (CLUT) with 256 x 24 entries per layer for indexed pixel formats</p></li>
<li><p>Flexible blending between the layers using alpha value (const alpha or Pixel alpha)</p></li>
<li><p>Color Keying: defining transparent color for pixel formats without alpha channel</p></li>
<li><p>Windowing: blending a programmable rectangular area of one layer into the other</p></li>
<li><p>Default Color Programmable: per layer default color that is to be used in case of windowing or disabled layer</p></li>
<li><p>Gamma Correction: map incoming RGB to different RGB values</p></li>
<li><p>Dithering (2 bits per color Component): providing softer color transitions for displays with less color depth</p></li>
<li><p>Multiple input pixel formats selectable per layer:
- ARGB8888, RGBA8888, RGB888, RGB565, ARGB1555, ARGB4444
- AL44, L8</p></li>
<li><p>RGB888 output pixel format</p></li>
</ul>
</section>
<section id="ili6122-panel">
<h3>ILI6122 Panel<a class="headerlink" href="#ili6122-panel" title="Link to this heading"></a></h3>
<p>ILI6122 is a 1200-channel output source driver with TTL interface timing controller (TCON). The interface follows digital 24-bit parallel RGB input format. The TCON generates (800 x 480) and (800 x 600) resolutions and provides horizontal and vertical control timing to source driver and gate driver. It also supports dithering feature, applying source driver and 6-bit DAC to perform 8-bit resolution 256 gray scales. It can be configured as dual-gate operation mode for reducing FPC amount and saving the cost. It has a wide range of supply voltages and many pin control features.</p>
<figure class="align-center" id="id5">
<img alt="ILI6122 Panel" src="_images/ILI6122.png" />
<figcaption>
<p><span class="caption-number">Figure 83 </span><span class="caption-text">ILI6122 Panel</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The following are the features available with ILI6122 Panel:</p>
<p><strong>TCON</strong>
- Supports display resolution 800x480 and 800x600
- Supports digital 24-bit parallel RGB input mode
- Supports configuring CABC block via 3-line SPI mode
- Source output with 8-bit resolution for 256 gray scales (2-bit dithering)
- Supports dual-gate operation mode
- Supports Stripe CF configuration
- Maximum Operating frequency: 50 MHz
- Provides flip and mirror scan mode by pin-control
- Supports stand-by mode for saving power consumption
- Operating Voltage level 3.0 V to 3.6 V
- Hardware Pin control CABC Mode selection</p>
<p><strong>Source Driver</strong>
- 1200 channels output source driver for TFT LCD panel
- Embedded custom-made Gamma table for special custom request
- Supports external V1~V14 pad for Gamma adjustment
- Output dynamic range: 0.1 ~ VDDA-0.1V
- Voltage deviation of outputs: <span class="math notranslate nohighlight">\(\pm 20\,\text{mV}\)</span></p>
</section>
</section>
<section id="hardware-setup">
<h2>Hardware Setup<a class="headerlink" href="#hardware-setup" title="Link to this heading"></a></h2>
<figure class="align-center" id="id6">
<img alt="Hardware Setup" src="_images/parallel_display_setup.png" />
<figcaption>
<p><span class="caption-number">Figure 84 </span><span class="caption-text">Hardware Setup</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="building-the-cdc200-application">
<h2>Building the CDC200 Application<a class="headerlink" href="#building-the-cdc200-application" title="Link to this heading"></a></h2>
<p>The application was tested for the HP core. Follow these steps to build your Zephyr-based CDC200 application using the GCC compiler and the Alif Zephyr SDK:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The application is designed for the Alif Ensemble E7 DevKit. Modify the sample code as needed for other DevKits.</p>
</div>
<ol class="arabic">
<li><p>For instructions on fetching the Alif Zephyr SDK and navigating to the Zephyr repository, please refer to the <a class="reference external" href="https://github.com/alifsemi/sdk-alif/releases/download/v1.4.0/user_guide.pdf">ZAS User Guide</a></p></li>
<li><p>Remove the existing build directory and build the CDC200 application:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rm<span class="w"> </span>-rf<span class="w"> </span>build
west<span class="w"> </span>build<span class="w"> </span>-b<span class="w"> </span>alif_e7_dk_rtss_hp<span class="w"> </span>../alif/samples/drivers/display<span class="w"> </span>-p<span class="w"> </span>--<span class="w"> </span>-G<span class="s2">&quot;Unix Makefiles&quot;</span>
</pre></div>
</div>
</li>
<li><p>Access the output and binary files: The binary file is available in the <code class="docutils literal notranslate"><span class="pre">./build/zephyr/</span></code> directory.</p></li>
</ol>
</section>
<section id="required-config-features">
<h2>Required Config Features<a class="headerlink" href="#required-config-features" title="Link to this heading"></a></h2>
<p>The following config features are necessary to test the application:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_HEAP_MEM_POOL_SIZE=81920</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_LOG=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_DISPLAY=y</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONFIG_DISPLAY_LOG_LEVEL_DBG=y</span></code> (to enable display driver debug logs)</p></li>
</ul>
<p>These config features are already selected when building the test application.</p>
</section>
<section id="dts-properties">
<h2>DTS Properties<a class="headerlink" href="#dts-properties" title="Link to this heading"></a></h2>
<p>The DTS entry for the CDC200 in Zephyr has the following tweakable properties that allow testing various features:</p>
<table class="docutils align-default" id="id7">
<caption><span class="caption-number">Table 9 </span><span class="caption-text">DTS Properties</span><a class="headerlink" href="#id7" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 22.2%" />
<col style="width: 55.6%" />
<col style="width: 22.2%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>DTS Property</p></th>
<th class="head"><p>Significance</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>width</p></td>
<td><p>Width of Panel in pixels</p></td>
<td><p>800</p></td>
</tr>
<tr class="row-odd"><td><p>height</p></td>
<td><p>Height of Panel in pixels</p></td>
<td><p>480</p></td>
</tr>
<tr class="row-even"><td><p>hfront-porch</p></td>
<td><p>Horizontal Front Porch time in pixel clocks</p></td>
<td><p>210</p></td>
</tr>
<tr class="row-odd"><td><p>hback-porch</p></td>
<td><p>Horizontal Back Porch time in pixel clocks</p></td>
<td><p>46</p></td>
</tr>
<tr class="row-even"><td><p>hsync-len</p></td>
<td><p>Length of horizontal sync pulse in pixel clock</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>vfront-porch</p></td>
<td><p>Vertical Front Porch time in pixel clocks</p></td>
<td><p>22</p></td>
</tr>
<tr class="row-even"><td><p>vback-porch</p></td>
<td><p>Vertical Back Porch time in pixel clocks</p></td>
<td><p>23</p></td>
</tr>
<tr class="row-odd"><td><p>vsync-len</p></td>
<td><p>Length of vertical sync pulse in number of lines</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>hsync-active</p></td>
<td><p>Polarity of H-Sync Pulse. 0 - Active low, 1 - Active high</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>vsync-active</p></td>
<td><p>Polarity of V-Sync Pulse. 0 - Active low, 1 - Active high</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>de-active</p></td>
<td><p>Polarity of Data Enable (DE) signal. 0 - Active low, 1 - Active high</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>pixelclk-active</p></td>
<td><p>Polarity of H-Sync Pulse. 0 - Active low, 1 - Active high</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>bg-color</p></td>
<td><p>Background Layer color (24-bit in size)</p></td>
<td><p>0x5a5a5a</p></td>
</tr>
<tr class="row-odd"><td><p>enable-l1/l2</p></td>
<td><p>Enable Layer 1/2. 0 - Disable, 1 - Enable</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>pixel-fmt-l1/l2</p></td>
<td><p>Pixel format for Layer 1/2. Possible values: “argb-8888” (Tested + supported by app), “rgb-888”, “rgb-565” (Tested + supported by app), “rgba-8888”, “al-44”, “l-8”, “argb-1555”, “argb-4444”</p></td>
<td><p>“rgb-565” l1, “argb-8888” - l2</p></td>
</tr>
<tr class="row-odd"><td><p>def-back-color-l1/l2</p></td>
<td><p>Default Color for layer 1/2 (32-bit value)</p></td>
<td><p>0x00ff00 - l1, No value specified for l2</p></td>
</tr>
<tr class="row-even"><td><p>win-x0-l1/l2</p></td>
<td><p>Starting x value for layer 1/2. Its value should be between 0 to width (inclusive), but less than win-x1-l1/l2 respectively</p></td>
<td><p>0 - l1, 500 - l2</p></td>
</tr>
<tr class="row-odd"><td><p>win-x1-l1/l2</p></td>
<td><p>Ending x value for layer 1/2. Its value should be between 0 to width (inclusive), but greater than win-x0-l1/l2 respectively</p></td>
<td><p>300 - l1, 800 - l2</p></td>
</tr>
<tr class="row-even"><td><p>win-y0-l1/l2</p></td>
<td><p>Starting y value of layer 1/2. Its value should be between 0 to height (inclusive), but less than win-y1-l1/l2 respectively</p></td>
<td><p>0 - l1 and l2</p></td>
</tr>
<tr class="row-odd"><td><p>win-y1-l1/l2</p></td>
<td><p>Ending value of layer 1/2. Its value should be between 0 to height (inclusive), but greater than win-y0-l1/l2 respectively</p></td>
<td><p>480 - l1, 68 - l2</p></td>
</tr>
<tr class="row-even"><td><p>blend-factor1-l1/l2</p></td>
<td><p>Current layer blending factor - f1. When layer-wise blending is enabled, the pixel from current layer will be weighted based on this factor. Possible values: 4 - constant alpha used for weighting, if Pixel has alpha - it is ignored; 6 - (constant alpha * pixel alpha) used for weighing</p></td>
<td><p>4 - l1 and l2</p></td>
</tr>
<tr class="row-odd"><td><p>blend-factor2-l1/l2</p></td>
<td><p>Subjacent layer blending factor - f2. When layer-wise blending is enabled, this factor will determine how the cumulative pixels from lower layers are to be blended. Possible values: 5 - (1 - constant alpha) used for weight; 7 - (1 - (pixel_alpha * constant_alpha)) used for weight</p></td>
<td><p>5 - l1 and l2</p></td>
</tr>
<tr class="row-even"><td><p>const-alpha-l1/l2</p></td>
<td><p>Value of constant alpha to be used for a given layer</p></td>
<td><p>0x7f - l1, 0xaf - l2</p></td>
</tr>
</tbody>
</table>
</section>
<section id="validating-cdc200">
<h2>Validating CDC200<a class="headerlink" href="#validating-cdc200" title="Link to this heading"></a></h2>
<p>The output screen is divided among 2 layers and some area that is not covered by any layer.</p>
<ul class="simple">
<li><p>Panel dimensions (width, height) = (800, 480)</p></li>
<li><p>Layer 1 dimensions (x resolution, y resolution) = (300, 480)</p></li>
<li><p>Pixel where Layer 1 starts (x, y) = (0, 0)</p></li>
<li><p>Pixel where Layer 1 ends (x, y) = (300, 480)</p></li>
<li><p>Layer 2 dimensions (x resolution, y resolution) = (300, 480)</p></li>
<li><p>Pixel where layer 2 starts (x, y) = (500, 0)</p></li>
<li><p>Pixel where Layer 2 ends (x, y) = (800, 480)</p></li>
</ul>
<section id="output-logs">
<h3>Output Logs<a class="headerlink" href="#output-logs" title="Link to this heading"></a></h3>
<section id="both-layers-enabled">
<h4>Both Layers Enabled<a class="headerlink" href="#both-layers-enabled" title="Link to this heading"></a></h4>
<p>The following are the output logs observed on minicom when both layers are enabled:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">*** Booting Zephyr OS build zephyr-v3.3.0-86-ged667deb6ee9 ***</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display sample for cdc200@49031000</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities panel x_res - 800</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities panel y_res - 480</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities pix_fmt_supported - 25</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities orientation - 0</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities layer 1:</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         layer_enabled - 1</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         (x_res, y_res) - (300, 480)</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         curr_pix_fmt - 16</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities layer 2:</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         layer_enabled - 1</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         (x_res, y_res) - (300, 68)</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         curr_pix_fmt - 8</span>
</pre></div>
</div>
<figure class="align-center" id="id8">
<img alt="Output with Both Layers Enabled" src="_images/output_both_layers.png" />
<figcaption>
<p><span class="caption-number">Figure 85 </span><span class="caption-text">Output with Both Layers Enabled</span><a class="headerlink" href="#id8" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="only-layer-1">
<h4>Only Layer 1<a class="headerlink" href="#only-layer-1" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">*** Booting Zephyr OS build zephyr-v3.3.0-86-ged667deb6ee9 ***</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display sample for cdc200@49031000</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities panel x_res - 800</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities panel y_res - 480</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities pix_fmt_supported - 25</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities orientation - 0</span>
<span class="go">[00:00:00.000] &lt;inf&gt; ensemble_disp: Display Capabilities layer 1:</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         layer_enabled - 1</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         (x_res, y_res) - (300, 480)</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         curr_pix_fmt - 16</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities layer 2:</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         layer_enabled - 0</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         (x_res, y_res) - (300, 68)</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         curr_pix_fmt - 8</span>
</pre></div>
</div>
<figure class="align-center" id="id9">
<img alt="Output with Only Layer 1" src="_images/output_layer1.png" />
<figcaption>
<p><span class="caption-number">Figure 86 </span><span class="caption-text">Output with Only Layer 1</span><a class="headerlink" href="#id9" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="only-layer-2">
<h4>Only Layer 2<a class="headerlink" href="#only-layer-2" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">*** Booting Zephyr OS build zephyr-v3.3.0-86-ged667deb6ee9 ***</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display sample for cdc200@49031000</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities panel x_res - 800</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities panel y_res - 480</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities pix_fmt_supported - 25</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities orientation - 0</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities layer 1:</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         layer_enabled - 0</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         (x_res, y_res) - (300, 480)</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         curr_pix_fmt - 16</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities layer 2:</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         layer_enabled - 1</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         (x_res, y_res) - (300, 68)</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         curr_pix_fmt - 8</span>
</pre></div>
</div>
<figure class="align-center" id="id10">
<img alt="Output with Only Layer 2" src="_images/output_layer2.png" />
<figcaption>
<p><span class="caption-number">Figure 87 </span><span class="caption-text">Output with Only Layer 2</span><a class="headerlink" href="#id10" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="no-layers-enabled">
<h4>No Layers Enabled<a class="headerlink" href="#no-layers-enabled" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">*** Booting Zephyr OS build zephyr-v3.3.0-86-ged667deb6ee9 ***</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display sample for cdc200@49031000</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities panel x_res - 800</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities panel y_res - 480</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities pix_fmt_supported - 25</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities orientation - 0</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities layer 1:</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         layer_enabled - 0</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         (x_res, y_res) - (300, 480)</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         curr_pix_fmt - 16</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities layer 2:</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         layer_enabled - 0</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         (x_res, y_res) - (300, 68)</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         curr_pix_fmt - 8</span>
</pre></div>
</div>
<figure class="align-center" id="id11">
<img alt="Output with No Layers" src="_images/output_no_layers.png" />
<figcaption>
<p><span class="caption-number">Figure 88 </span><span class="caption-text">The Layer 1 default color (0x00ff00) blended with background layer color (0x5a5a5a) is observed.</span><a class="headerlink" href="#id11" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="no-layers-and-default-color-for-layer-1-disabled">
<h4>No Layers and Default Color for Layer 1 Disabled<a class="headerlink" href="#no-layers-and-default-color-for-layer-1-disabled" title="Link to this heading"></a></h4>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">*** Booting Zephyr OS build zephyr-v3.3.0-86-ged667deb6ee9 ***</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display sample for cdc200@49031000</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities panel x_res - 800</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities panel y_res - 480</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities pix_fmt_supported - 25</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities orientation - 0</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities layer 1:</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         layer_enabled - 0</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         (x_res, y_res) - (300, 480)</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         curr_pix_fmt - 16</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp: Display Capabilities layer 2:</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         layer_enabled - 0</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         (x_res, y_res) - (300, 68)</span>
<span class="go">[00:00:00.000,000] &lt;inf&gt; ensemble_disp:         curr_pix_fmt - 8</span>
</pre></div>
</div>
<figure class="align-center" id="id12">
<img alt="Output with No Layers and Default Color for Layer 1 Disabled" src="_images/output_no_layers_no_default.png" />
<figcaption>
<p><span class="caption-number">Figure 89 </span><span class="caption-text">The Background Layer color 0x5a5a5a is observed when all layers and their default colors are disabled.</span><a class="headerlink" href="#id12" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
</section>
<section id="known-issues">
<h2>Known Issues<a class="headerlink" href="#known-issues" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><strong>Zephyr CDC200 Driver</strong>: The Zephyr device driver for the CDC200 currently supports only ARGB8888, RGB888, and RGB565 formats. This is a limitation of the Zephyr framework and may be addressed in future releases.</p></li>
<li><p><strong>Demo Application (Layer 2)</strong>: In the demo application, Layer 2 is designed to copy an image in ARGB8888 format directly from a C array to the framebuffer. Therefore, avoid using any format other than ARGB8888 for Layer 2. Layer 1 formats can be changed without issue.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024-2025, Alif Semiconductor.
      <span class="lastupdated">Last updated on Sep 12, 2025.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>